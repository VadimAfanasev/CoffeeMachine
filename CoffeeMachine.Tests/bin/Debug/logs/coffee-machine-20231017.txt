[2023-10-17 09:34:04.341 +07:00  INF]  User profile is available. Using 'C:\Users\AfanasievVA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-17 09:34:04.479 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost/api/coffeebalance - -
[2023-10-17 09:34:04.501 +07:00  WRN]  Failed to determine the https port for redirect.
[2023-10-17 09:34:04.512 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine)'
[2023-10-17 09:34:04.563 +07:00  INF]  Route matched with {action = "GetCoffeeBalance", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoffeeBalanceAsync() on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-17 09:34:05.818 +07:00  INF]  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:05.853 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:05.888 +07:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:05.904 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:06.063 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Balance", c."Name", c."Price"
FROM "CoffeesDb" AS c
[2023-10-17 09:34:06.102 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CoffeeMachine.Dto.BalanceCoffeeDto, CoffeeMachine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-17 09:34:06.123 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine) in 1555.9859ms
[2023-10-17 09:34:06.124 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine)'
[2023-10-17 09:34:06.131 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost/api/coffeebalance - - - 200 - application/json;+charset=utf-8 1651.2068ms
[2023-10-17 09:34:06.142 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost/api/moneyinmachine/ - -
[2023-10-17 09:34:06.145 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-17 09:34:06.149 +07:00  INF]  Route matched with {action = "GetMoneyInMachine", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMoneyInMachineAsync() on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-17 09:34:06.192 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.223 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.226 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:06.226 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:06.236 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
[2023-10-17 09:34:06.245 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CoffeeMachine.Dto.MoneyDto, CoffeeMachine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-17 09:34:06.248 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine) in 98.596ms
[2023-10-17 09:34:06.248 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-17 09:34:06.248 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost/api/moneyinmachine/ - - - 200 - application/json;+charset=utf-8 106.0886ms
[2023-10-17 09:34:06.279 +07:00  INF]  Request starting HTTP/1.1 PUT http://localhost/api/inputing application/json;+charset=utf-8 27
[2023-10-17 09:34:06.283 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-17 09:34:06.289 +07:00  INF]  Route matched with {action = "InputMoney", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] InputMoneyAsync(System.Collections.Generic.List`1[CoffeeMachine.Dto.MoneyDto]) on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-17 09:34:06.365 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.396 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.399 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:06.399 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:06.527 +07:00  INF]  Executed DbCommand (9ms) [Parameters=[@__moneyList_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachinesDb" AS m
    WHERE m."Nominal" = ANY (@__moneyList_0))
[2023-10-17 09:34:06.530 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine) in 240.5549ms
[2023-10-17 09:34:06.530 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-17 09:34:06.531 +07:00  ERR]  Invalid banknotes type
[2023-10-17 09:34:06.537 +07:00  INF]  Request finished HTTP/1.1 PUT http://localhost/api/inputing application/json;+charset=utf-8 27 - 400 - application/json;+charset=utf-8 258.3000ms
[2023-10-17 09:34:06.539 +07:00  INF]  Request starting HTTP/1.1 PUT http://localhost/api/inputing application/json;+charset=utf-8 54
[2023-10-17 09:34:06.540 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-17 09:34:06.540 +07:00  INF]  Route matched with {action = "InputMoney", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] InputMoneyAsync(System.Collections.Generic.List`1[CoffeeMachine.Dto.MoneyDto]) on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-17 09:34:06.570 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.599 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:06.601 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:06.601 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:06.606 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__moneyList_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachinesDb" AS m
    WHERE m."Nominal" = ANY (@__moneyList_0))
[2023-10-17 09:34:06.627 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[@__banknote_Key_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__banknote_Key_0
LIMIT 1
[2023-10-17 09:34:06.631 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__banknote_Key_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__banknote_Key_0
LIMIT 1
[2023-10-17 09:34:06.680 +07:00  INF]  Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Int64), @p3='?' (DbType = Int64), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MoneyInMachinesDb" SET "Count" = @p0
WHERE "Nominal" = @p1;
UPDATE "MoneyInMachinesDb" SET "Count" = @p2
WHERE "Nominal" = @p3;
[2023-10-17 09:34:06.696 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-17 09:34:06.697 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine) in 157.2793ms
[2023-10-17 09:34:06.697 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-17 09:34:06.697 +07:00  INF]  Request finished HTTP/1.1 PUT http://localhost/api/inputing application/json;+charset=utf-8 54 - 200 - text/plain;+charset=utf-8 157.9617ms
[2023-10-17 09:34:06.700 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost/api/login application/json;+charset=utf-8 43
[2023-10-17 09:34:06.701 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-17 09:34:06.703 +07:00  INF]  Route matched with {action = "Login", controller = "CoffeeMachineLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserModel) on controller CoffeeMachine.Controllers.CoffeeMachineLoginController (CoffeeMachine).
[2023-10-17 09:34:06.706 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) in 3.2261ms
[2023-10-17 09:34:06.707 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-17 09:34:06.707 +07:00  ERR]  User not found
[2023-10-17 09:34:06.707 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost/api/login application/json;+charset=utf-8 43 - 404 - application/json;+charset=utf-8 6.5839ms
[2023-10-17 09:34:06.708 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost/api/login application/json;+charset=utf-8 39
[2023-10-17 09:34:06.708 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-17 09:34:06.708 +07:00  INF]  Route matched with {action = "Login", controller = "CoffeeMachineLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserModel) on controller CoffeeMachine.Controllers.CoffeeMachineLoginController (CoffeeMachine).
[2023-10-17 09:34:07.295 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-17 09:34:07.296 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) in 586.8771ms
[2023-10-17 09:34:07.296 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-17 09:34:07.296 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost/api/login application/json;+charset=utf-8 39 - 200 - text/plain;+charset=utf-8 587.2736ms
[2023-10-17 09:34:07.298 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost/api/order/InvalidCoffeeName application/json;+charset=utf-8 10
[2023-10-17 09:34:07.299 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.302 +07:00  INF]  Route matched with {action = "PlaceOrder", controller = "CoffeeMachineBuy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CoffeeMachine.Dto.OrderCoffeeDto]] PlaceOrder(System.String, UInt32[]) on controller CoffeeMachine.Controllers.CoffeeMachineBuyController (CoffeeMachine).
[2023-10-17 09:34:07.434 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.463 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.486 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:07.486 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:07.496 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CoffeesDb" AS c
    WHERE c."Name" = @__coffeeType_0)
[2023-10-17 09:34:07.496 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine) in 194.078ms
[2023-10-17 09:34:07.496 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.496 +07:00  ERR]  Invalid coffee type
[2023-10-17 09:34:07.496 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost/api/order/InvalidCoffeeName application/json;+charset=utf-8 10 - 400 - application/json;+charset=utf-8 197.7233ms
[2023-10-17 09:34:07.497 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost/api/order/Cappuccino application/json;+charset=utf-8 5
[2023-10-17 09:34:07.498 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.498 +07:00  INF]  Route matched with {action = "PlaceOrder", controller = "CoffeeMachineBuy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CoffeeMachine.Dto.OrderCoffeeDto]] PlaceOrder(System.String, UInt32[]) on controller CoffeeMachine.Controllers.CoffeeMachineBuyController (CoffeeMachine).
[2023-10-17 09:34:07.528 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.556 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.558 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:07.559 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:07.561 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CoffeesDb" AS c
    WHERE c."Name" = @__coffeeType_0)
[2023-10-17 09:34:07.571 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Price"
FROM "CoffeesDb" AS c
WHERE c."Name" = @__coffeeType_0
LIMIT 1
[2023-10-17 09:34:07.572 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine) in 74.0731ms
[2023-10-17 09:34:07.572 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.572 +07:00  ERR]  The amount deposited is less than required
[2023-10-17 09:34:07.572 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost/api/order/Cappuccino application/json;+charset=utf-8 5 - 400 - application/json;+charset=utf-8 74.8032ms
[2023-10-17 09:34:07.574 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost/api/order/Cappuccino application/json;+charset=utf-8 10
[2023-10-17 09:34:07.574 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.574 +07:00  INF]  Route matched with {action = "PlaceOrder", controller = "CoffeeMachineBuy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CoffeeMachine.Dto.OrderCoffeeDto]] PlaceOrder(System.String, UInt32[]) on controller CoffeeMachine.Controllers.CoffeeMachineBuyController (CoffeeMachine).
[2023-10-17 09:34:07.604 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.632 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
[2023-10-17 09:34:07.634 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2023-10-17 09:34:07.634 +07:00  INF]  No migrations were applied. The database is already up to date.
[2023-10-17 09:34:07.637 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CoffeesDb" AS c
    WHERE c."Name" = @__coffeeType_0)
[2023-10-17 09:34:07.637 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Price"
FROM "CoffeesDb" AS c
WHERE c."Name" = @__coffeeType_0
LIMIT 1
[2023-10-17 09:34:07.642 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
ORDER BY m."Nominal" DESC
[2023-10-17 09:34:07.645 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.646 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.647 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Int64), @p3='?' (DbType = Int64), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MoneyInMachinesDb" SET "Count" = @p0
WHERE "Nominal" = @p1;
UPDATE "MoneyInMachinesDb" SET "Count" = @p2
WHERE "Nominal" = @p3;
[2023-10-17 09:34:07.649 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.650 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.650 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.650 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__note_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachinesDb" AS m
WHERE m."Nominal" = @__note_0
LIMIT 1
[2023-10-17 09:34:07.652 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Int64), @p3='?' (DbType = Int64), @p2='?' (DbType = Int64), @p5='?' (DbType = Int64), @p4='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MoneyInMachinesDb" SET "Count" = @p0
WHERE "Nominal" = @p1;
UPDATE "MoneyInMachinesDb" SET "Count" = @p2
WHERE "Nominal" = @p3;
UPDATE "MoneyInMachinesDb" SET "Count" = @p4
WHERE "Nominal" = @p5;
[2023-10-17 09:34:07.655 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[@__coffeeType_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Balance", c."Name", c."Price"
FROM "CoffeesDb" AS c
WHERE c."Name" = @__coffeeType_0
LIMIT 1
[2023-10-17 09:34:07.661 +07:00  INF]  Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CoffeesDb" SET "Balance" = @p0
WHERE "Id" = @p1;
[2023-10-17 09:34:07.662 +07:00  INF]  Executing OkObjectResult, writing value of type 'CoffeeMachine.Dto.OrderCoffeeDto'.
[2023-10-17 09:34:07.663 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine) in 89.0577ms
[2023-10-17 09:34:07.663 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineBuyController.PlaceOrder (CoffeeMachine)'
[2023-10-17 09:34:07.663 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost/api/order/Cappuccino application/json;+charset=utf-8 10 - 200 - application/json;+charset=utf-8 89.5557ms

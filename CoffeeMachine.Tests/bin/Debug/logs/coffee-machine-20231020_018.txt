[2023-10-20 17:24:53.708 +07:00  ERR]  An exception occurred in the database while saving changes for context type 'CoffeeMachine.Models.Data.CoffeeContext'.
System.ArgumentException: An item with the same key has already been added. Key: 50
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryTable`1.Create(IUpdateEntry entry, IDiagnosticsLogger`1 updateLogger)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryStore.ExecuteTransaction(IList`1 entries, IDiagnosticsLogger`1 updateLogger)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
System.ArgumentException: An item with the same key has already been added. Key: 50
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryTable`1.Create(IUpdateEntry entry, IDiagnosticsLogger`1 updateLogger)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryStore.ExecuteTransaction(IList`1 entries, IDiagnosticsLogger`1 updateLogger)
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
[2023-10-20 17:25:05.034 +07:00  INF]  Saved 0 entities to in-memory store.
[2023-10-20 17:25:05.139 +07:00  INF]  Saved 10 entities to in-memory store.
[2023-10-20 17:25:05.283 +07:00  INF]  User profile is available. Using 'C:\Users\AfanasievVA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-20 17:25:05.342 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost/api/coffeebalance - -
[2023-10-20 17:25:05.374 +07:00  WRN]  Failed to determine the https port for redirect.
[2023-10-20 17:25:05.389 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine)'
[2023-10-20 17:25:05.410 +07:00  INF]  Route matched with {action = "GetCoffeeBalance", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoffeeBalanceAsync() on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-20 17:25:05.469 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine) - Validation state: "Valid"
[2023-10-20 17:25:05.571 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 99.1664ms.
[2023-10-20 17:25:05.576 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CoffeeMachine.Dto.BalanceCoffeeDto, CoffeeMachine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-20 17:25:05.604 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine) in 190.4831ms
[2023-10-20 17:25:05.604 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetCoffeeBalanceAsync (CoffeeMachine)'
[2023-10-20 17:25:05.608 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost/api/coffeebalance - - - 200 - application/json;+charset=utf-8 267.2281ms

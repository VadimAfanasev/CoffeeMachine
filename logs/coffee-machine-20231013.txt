[2023-10-13 10:25:20.034 +07:00  INF]  User profile is available. Using 'C:\Users\AfanasievVA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-13 10:25:20.354 +07:00  INF]  Now listening on: http://localhost:5026
[2023-10-13 10:25:20.355 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-10-13 10:25:20.355 +07:00  INF]  Hosting environment: Development
[2023-10-13 10:25:20.355 +07:00  INF]  Content root path: C:\Users\AfanasievVA\source\repos\CoffeMachine\CoffeMachine\CoffeMachine
[2023-10-13 10:25:21.091 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
[2023-10-13 10:25:21.471 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - -
[2023-10-13 10:25:21.471 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_vs/browserLink - -
[2023-10-13 10:25:21.487 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - - - 200 12358 application/javascript;+charset=utf-8 3.5799ms
[2023-10-13 10:25:21.488 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 399.8274ms
[2023-10-13 10:25:21.513 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.4881ms
[2023-10-13 10:25:21.550 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
[2023-10-13 10:25:21.665 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.6061ms
[2023-10-13 10:25:33.902 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost:5026/api/login application/json 48
[2023-10-13 10:25:33.909 +07:00  WRN]  Failed to determine the https port for redirect.
[2023-10-13 10:25:34.598 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-13 10:25:34.619 +07:00  INF]  Route matched with {action = "Login", controller = "CoffeeMachineLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserModel) on controller CoffeeMachine.Controllers.CoffeeMachineLoginController (CoffeeMachine).
[2023-10-13 10:25:34.764 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) - Validation state: "Valid"
[2023-10-13 10:25:34.847 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77.3963ms.
[2023-10-13 10:25:34.853 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-13 10:25:34.858 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) in 236.1369ms
[2023-10-13 10:25:34.859 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-13 10:25:34.860 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost:5026/api/login application/json 48 - 200 - text/plain;+charset=utf-8 958.1972ms
[2023-10-13 10:25:52.494 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - -
[2023-10-13 10:25:52.551 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-13 10:25:52.554 +07:00  INF]  Route matched with {action = "GetMoneyInMachine", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMoneyInMachineAsync() on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-13 10:25:53.993 +07:00  INF]  Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
[2023-10-13 10:25:54.153 +07:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Coffees" AS c)
[2023-10-13 10:25:54.164 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachines" AS m)
[2023-10-13 10:25:54.185 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine) - Validation state: "Valid"
[2023-10-13 10:25:54.270 +07:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachines" AS m
[2023-10-13 10:25:54.307 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 121.3143ms.
[2023-10-13 10:25:54.307 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CoffeeMachine.Dto.MoneyDto, CoffeeMachine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-13 10:25:54.314 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine) in 1759.7339ms
[2023-10-13 10:25:54.314 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-13 10:25:54.320 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - - - 200 - application/json;+charset=utf-8 1826.0140ms
[2023-10-13 10:26:03.864 +07:00  INF]  Request starting HTTP/1.1 PUT http://localhost:5026/api/inputing application/json 46
[2023-10-13 10:26:03.869 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-13 10:26:03.872 +07:00  INF]  Route matched with {action = "InputMoney", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] InputMoneyAsync(System.Collections.Generic.List`1[CoffeeMachine.Dto.MoneyDto]) on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-13 10:26:03.917 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
[2023-10-13 10:26:03.919 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Coffees" AS c)
[2023-10-13 10:26:03.920 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachines" AS m)
[2023-10-13 10:26:03.974 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine) - Validation state: "Valid"
[2023-10-13 10:26:04.026 +07:00  INF]  Executed DbCommand (8ms) [Parameters=[@__money_Nominal_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachines" AS m
    WHERE m."Nominal" = @__money_Nominal_0)
[2023-10-13 10:26:04.043 +07:00  INF]  Executed DbCommand (7ms) [Parameters=[@__banknote_Nominal_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachines" AS m
WHERE m."Nominal" = @__banknote_Nominal_0
LIMIT 1
[2023-10-13 10:26:04.109 +07:00  INF]  Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MoneyInMachines" SET "Count" = @p0
WHERE "Nominal" = @p1;
[2023-10-13 10:26:04.118 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.3102ms.
[2023-10-13 10:26:04.118 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-13 10:26:04.118 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine) in 246.1712ms
[2023-10-13 10:26:04.118 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.InputMoneyAsync (CoffeeMachine)'
[2023-10-13 10:26:04.119 +07:00  INF]  Request finished HTTP/1.1 PUT http://localhost:5026/api/inputing application/json 46 - 200 - text/plain;+charset=utf-8 254.2573ms
[2023-10-13 10:26:15.360 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - -
[2023-10-13 10:26:15.362 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-13 10:26:15.362 +07:00  INF]  Route matched with {action = "GetMoneyInMachine", controller = "CoffeeMachineAdministrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMoneyInMachineAsync() on controller CoffeeMachine.Controllers.CoffeeMachineAdministratorController (CoffeeMachine).
[2023-10-13 10:26:15.445 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
[2023-10-13 10:26:15.447 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Coffees" AS c)
[2023-10-13 10:26:15.447 +07:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "MoneyInMachines" AS m)
[2023-10-13 10:26:15.459 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine) - Validation state: "Valid"
[2023-10-13 10:26:15.461 +07:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Nominal", m."Count"
FROM "MoneyInMachines" AS m
[2023-10-13 10:26:15.465 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5108ms.
[2023-10-13 10:26:15.465 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CoffeeMachine.Dto.MoneyDto, CoffeeMachine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-10-13 10:26:15.465 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine) in 102.982ms
[2023-10-13 10:26:15.465 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineAdministratorController.GetMoneyInMachineAsync (CoffeeMachine)'
[2023-10-13 10:26:15.466 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - - - 200 - application/json;+charset=utf-8 105.8536ms
[2023-10-13 12:41:55.736 +07:00  INF]  User profile is available. Using 'C:\Users\AfanasievVA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-13 12:41:55.909 +07:00  INF]  Now listening on: http://localhost:5026
[2023-10-13 12:41:55.910 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-10-13 12:41:55.917 +07:00  INF]  Hosting environment: Development
[2023-10-13 12:41:55.917 +07:00  INF]  Content root path: C:\Users\AfanasievVA\source\repos\CoffeMachine\CoffeMachine\CoffeMachine
[2023-10-13 12:41:56.172 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
[2023-10-13 12:41:56.400 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - -
[2023-10-13 12:41:56.400 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_vs/browserLink - -
[2023-10-13 12:41:56.424 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - - - 200 12358 application/javascript;+charset=utf-8 12.6935ms
[2023-10-13 12:41:56.426 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 256.2734ms
[2023-10-13 12:41:56.434 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.4446ms
[2023-10-13 12:41:56.479 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
[2023-10-13 12:41:56.591 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.2962ms
[2023-10-13 12:42:08.715 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - -
[2023-10-13 12:42:17.553 +07:00  WRN]  Failed to determine the https port for redirect.
[2023-10-13 12:42:28.982 +07:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2023-10-13 12:42:28.992 +07:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-10-13 12:42:46.060 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/api/moneyinmachine - - - 401 0 - 37344.3096ms
[2023-10-13 12:43:29.854 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/api/coffeebalance - -
[2023-10-13 12:43:40.466 +07:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2023-10-13 12:43:40.466 +07:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-10-13 16:51:39.297 +07:00  INF]  User profile is available. Using 'C:\Users\AfanasievVA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2023-10-13 16:51:39.568 +07:00  INF]  Now listening on: http://localhost:5026
[2023-10-13 16:51:39.569 +07:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-10-13 16:51:39.569 +07:00  INF]  Hosting environment: Development
[2023-10-13 16:51:39.569 +07:00  INF]  Content root path: C:\Users\AfanasievVA\source\repos\CoffeMachine\CoffeMachine\CoffeMachine
[2023-10-13 16:51:40.151 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
[2023-10-13 16:51:40.484 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_vs/browserLink - -
[2023-10-13 16:51:40.484 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - -
[2023-10-13 16:51:40.501 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_framework/aspnetcore-browser-refresh.js - - - 200 12358 application/javascript;+charset=utf-8 3.2992ms
[2023-10-13 16:51:40.502 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 353.4920ms
[2023-10-13 16:51:40.512 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.8978ms
[2023-10-13 16:51:40.557 +07:00  INF]  Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
[2023-10-13 16:51:40.666 +07:00  INF]  Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.1988ms
[2023-10-13 16:53:29.279 +07:00  INF]  Request starting HTTP/1.1 POST http://localhost:5026/api/login application/json 48
[2023-10-13 16:53:40.043 +07:00  WRN]  Failed to determine the https port for redirect.
[2023-10-13 16:53:40.154 +07:00  INF]  Executing endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-13 16:53:40.174 +07:00  INF]  Route matched with {action = "Login", controller = "CoffeeMachineLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserModel) on controller CoffeeMachine.Controllers.CoffeeMachineLoginController (CoffeeMachine).
[2023-10-13 16:53:40.303 +07:00  INF]  Executing action method CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) - Validation state: "Valid"
[2023-10-13 16:53:40.355 +07:00  INF]  Executed action method CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.3674ms.
[2023-10-13 16:53:40.361 +07:00  INF]  Executing OkObjectResult, writing value of type 'System.String'.
[2023-10-13 16:53:40.366 +07:00  INF]  Executed action CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine) in 188.8013ms
[2023-10-13 16:53:40.366 +07:00  INF]  Executed endpoint 'CoffeeMachine.Controllers.CoffeeMachineLoginController.Login (CoffeeMachine)'
[2023-10-13 16:53:40.367 +07:00  INF]  Request finished HTTP/1.1 POST http://localhost:5026/api/login application/json 48 - 200 - text/plain;+charset=utf-8 11088.0252ms
